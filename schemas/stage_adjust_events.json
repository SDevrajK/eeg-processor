{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://eeg-processor.org/schemas/stage_adjust_events.json",
  "title": "EEG Processor - adjust_events Stage",
  "description": "Adjust event times with normalized event code matching across formats. Supports integers (1, 10) or strings ('S1', 'Stimulus/S 10') which are automatically normalized to match the file format.",
  "type": "object",
  "properties": {
    "shift_ms": {
      "type": "number",
      "description": "Time shift in milliseconds (positive=forward, negative=backward)"
    },
    "target_events": {
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": ["number", "string"]
      },
      "description": "Specific events to shift (None=all events). Can be integers (1, 2, 10) or strings ('S1', 'Stimulus/S 10')"
    },
    "protect_events": {
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": ["number", "string"]
      },
      "description": "Events to exclude from shifting. Takes precedence over target_events."
    }
  },
  "required": [
    "shift_ms"
  ],
  "additionalProperties": false
}