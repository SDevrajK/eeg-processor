{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://eeg-processor.org/schemas/stage_remove_artifacts.json",
  "title": "EEG Processor - remove_artifacts Stage",
  "description": "Remove artifacts using Independent Component Analysis (ICA). Combines automatic classification (ICALabel) with correlation-based detection to identify and remove eye blinks, muscle artifacts, cardiac artifacts, and line noise components.",
  "type": "object",
  "properties": {
    "n_components": {
      "type": [
        "number",
        "integer"
      ],
      "default": 15
    },
    "method": {
      "type": "string",
      "default": "infomax",
      "enum": [
        "average",
        "median",
        "ica",
        "euclid",
        "riemann",
        "eog_regression",
        "gratton_coles"
      ]
    },
    "eog_channels": {
      "type": [
        "array",
        "null"
      ],
      "default": "['VEOG', 'HEOG']"
    },
    "ecg_channels": {
      "type": [
        "array",
        "null"
      ]
    },
    "auto_classify": {
      "type": "boolean",
      "default": false
    },
    "use_arci": {
      "type": "boolean",
      "default": false
    },
    "muscle_threshold": {
      "type": "number",
      "default": 0.8
    },
    "eye_threshold": {
      "type": "number",
      "default": 0.8
    },
    "heart_threshold": {
      "type": "number",
      "default": 0.8
    },
    "line_noise_threshold": {
      "type": "number",
      "default": 0.8
    },
    "arci_cardiac_freq_range": {
      "type": "number",
      "default": "(0.6, 1.7)"
    },
    "arci_regularity_threshold": {
      "type": "number",
      "default": 0.4
    },
    "plot_components": {
      "type": "boolean",
      "default": false
    },
    "enable_manual": {
      "type": "boolean",
      "default": false
    },
    "decim": {
      "type": [
        "integer",
        "null"
      ]
    },
    "random_state": {
      "type": "integer",
      "default": 42
    },
    "verbose": {
      "type": [
        "boolean",
        "string",
        "null"
      ]
    }
  },
  "additionalProperties": false
}